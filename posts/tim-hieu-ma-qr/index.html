<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="QR Code" /><meta name="author" content="F4c3l3ss_" /><meta property="og:locale" content="en" /><meta name="description" content="QR là viết tắt của quick response, là một loại mã vạch đặc biệt có thể mã hóa thông tin như số, chữ cái, và kí tự kanji được tạo bởi công ty Denso-Wave là một công ty con của tập đoàn Toyota." /><meta property="og:description" content="QR là viết tắt của quick response, là một loại mã vạch đặc biệt có thể mã hóa thông tin như số, chữ cái, và kí tự kanji được tạo bởi công ty Denso-Wave là một công ty con của tập đoàn Toyota." /><link rel="canonical" href="https://blog.whitebear.vn/posts/tim-hieu-ma-qr/" /><meta property="og:url" content="https://blog.whitebear.vn/posts/tim-hieu-ma-qr/" /><meta property="og:site_name" content="WhiteBearVN" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-12-02T00:00:00+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="QR Code" /><meta name="twitter:site" content="@WhiteBearVN_" /><meta name="twitter:creator" content="@F4c3l3ss_" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"F4c3l3ss_"},"dateModified":"2018-12-02T00:00:00+07:00","datePublished":"2018-12-02T00:00:00+07:00","description":"QR là viết tắt của quick response, là một loại mã vạch đặc biệt có thể mã hóa thông tin như số, chữ cái, và kí tự kanji được tạo bởi công ty Denso-Wave là một công ty con của tập đoàn Toyota.","headline":"QR Code","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.whitebear.vn/posts/tim-hieu-ma-qr/"},"url":"https://blog.whitebear.vn/posts/tim-hieu-ma-qr/"}</script><title>QR Code | WhiteBearVN</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="WhiteBearVN"><meta name="application-name" content="WhiteBearVN"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/logo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">WhiteBearVN</a></div><div class="site-subtitle font-italic">Thought on cyber security</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/WhiteBearVN" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/WhiteBearVN_" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['binhbear.vn','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>QR Code</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>QR Code</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1543683600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Dec 2, 2018 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2832 words"> <em>15 min</em> read</span></div></div></div><div class="post-content"><p><strong>QR</strong> là viết tắt của quick response, là một loại mã vạch đặc biệt có thể mã hóa thông tin như số, chữ cái, và kí tự kanji được tạo bởi công ty Denso-Wave là một công ty con của tập đoàn Toyota.</p><p>Hiện nay có rất nhiều loại QR code như:</p><ul><li>QR code model 1 &amp; 2: loại chúng ta thường thấy.<li>Micro QR code: một loại QR code nhỏ.<li>SQRC, iQR code, frame QR code,…</ul><p>Trong bài viết này mình sẽ chỉ tập trung vào QR code model 2 vì từ tháng 9 năm 2006 ISO ISO/IEC 18004 cũng đã loại việc đọc mã QR code model 1 (đoạn này mình không biết nói sao cho đúng ý nhất nhưng vì sự vượt trội của QR model 2 nên phải loại model 1 để có tính thống nhất ấy).</p><h1 id="qr-model-1">QR model 1</h1><p>Mã QR code gốc có thể mã hóa 1167 số và có tối đa 14 phiên bản (73x73)</p><h1 id="qr-model-2">QR model 2</h1><p>Bản cải thiện của model 1 có thể mã hóa 7089 số và có tối đa 40 phiên bản (177x177).</p><p>Mã QR luôn có hình vuông và được phân chia làm 40 phiên bản dựa vào kích thước của chúng.</p><ul><li><p>Phiên bản 1 sẽ có kích thước là 21x21.</p><li><p>Phiên bản 2 sẽ có kích thước là 25x25.</p><li><p>Phiên bản 3 sẽ có kích thước là 29x29.</p></ul><p>Và cứ mỗi phiên bản sau sẽ lớn hơn phiên bản trước 4 đơn vị và đến phiên bản tối đa là 40 với kích thước là 177x177.</p><p>Kích thước của mã QR được xác định bởi công thức:</p><blockquote><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>**(V - 1) * 4 + 21**
</pre></table></code></div></div></blockquote><p><em>với V là phiên bản mã QR</em></p><p>Vây với phiên bản 30 ta sẽ có kích thước là 137x137.</p><h2 id="về-kích-thước"><span class="mr-2">Về kích thước:</span><a href="#về-kích-thước" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Chắc hẳn các bạn sẽ thắc mắc tại sao có những ảnh phiên bản khác nhau nhưng lại cùng kích thước. Lý do là kích thước đó phụ thuộc vào bạn quy định bao nhiêu pixel cho một hàng, cột. Nếu bạn quy định 1 pixel là 1 hàng và 1 cột thì kích thước của 2 ảnh chắc chắn sẽ khác nhau. Vì vậy thay vì quyết định dựa trên số pixel của bức ảnh hãy dựa vào số hàng và cột của QR code đó. Trong bài viết này mình dựa vào hàng và cột như vậy sẽ dễ phân biệt và thuận tiện hơn trong bài viết.</p><h2 id="về-dung-lượng"><span class="mr-2">Về dung lượng:</span><a href="#về-dung-lượng" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Dung lượng của mã QR phụ thuộc vào cấp độ sửa lỗi và phiên bản. Có bốn chế độ dữ liệu bao gồm: số, chữ và số, nhị phân, chữ kanji. Và bốn chế độ sửa lỗi: L, M, Q, H (mình sẽ nói kỹ hơn ở dưới). Các bạn có thể truy cập trang này đễ xem dung lượng tối đa mà mã QR có thể chứa dựa trên cấp sửa lỗi.</p><h2 id="về-màu-sắc-mã"><span class="mr-2">Về màu sắc mã:</span><a href="#về-màu-sắc-mã" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>QR luôn có hai màu là đen và trắng trong đó đen sẽ đại diện cho bit 1 còn trắng đại diện cho bit 0.</p><p>Cấu trúc của mã QR được thể hiện qua hình sau:</p><p><a href="/assets/img/blog/1_cautruc.png" class="popup img-link "><img data-src="/assets/img/blog/1_cautruc.png" alt="cautruc" class="lazyload" data-proofer-ignore></a></p><h2 id="vùng-finder"><span class="mr-2">Vùng finder</span><a href="#vùng-finder" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Vùng finder là 3 ô vuông đen lớn ở ba góc trái trên, phải trên và trái dưới bất kể phiên bản mã QR nào. Vùng này giúp cho thiết bị đọc mã xác định đươc ảnh QR và thực hiện việc đọc dữ liệu. Chính nhờ có vùng này mà khi chúng ta quay ảnh QR ngang, chéo thì điên thoại chúng ta vẫn có thể đọc được. Mỗi ô vuông của vùng finder luôn có viền màu đen bên ngoài kích thước là 7 bên trong là một hình vuông trắng kích thước 5 và ở giữa là ô vuông đen 3x3.</p><p><a href="/assets/img/blog/2_finder.png" class="popup img-link "><img data-src="/assets/img/blog/2_finder.png" alt="finder" class="lazyload" data-proofer-ignore></a></p><p>Để xác định ví trị đặt 3 ô finder ta có công thức tính như sau:</p><ul><li><p>Góc trái trên luôn luôn đặt tại vị trí (0,0)</p><li><p>Góc trái dưới đặt tại ví trí (x,0)</p><li><p>Góc phải trên đăt tại ví trí(0,y)</p></ul><p>Trong đó x,y được tính bằng công thức:</p><blockquote><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>**(V - 1) * 4 + 14**
</pre></table></code></div></div></blockquote><p><em>với V là phiên bản mã QR</em></p><p><a href="/assets/img/blog/3_finder_example_1.png" class="popup img-link "><img data-src="/assets/img/blog/3_finder_example_1.png" alt="finder_example" class="lazyload" data-proofer-ignore></a></p><p>Phiên bản 1</p><h2 id="vùng-separators"><span class="mr-2">Vùng separators</span><a href="#vùng-separators" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Là vùng trắng bao quanh vùng finder giúp tách vùng finder và phần còn lại của mã QR.</p><p><a href="/assets/img/blog/4_separators.png" class="popup img-link "><img data-src="/assets/img/blog/4_separators.png" alt="separators" class="lazyload" data-proofer-ignore></a></p><h2 id="vùng-alignment"><span class="mr-2">Vùng alignment</span><a href="#vùng-alignment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Có công dụng tương tự như vùng finder nhưng nhỏ hơn. Vùng này chỉ xuất hiện từ phiên bản 2 đến phiên bản 40. Vùng alignment có cấu trúc gần giống với finder, là một ô vuông có viền màu đen cạnh là 5 bên trong là ô vuông trắng cạnh là 3 và ở giữa là ô vuông 1x1. Về vị trí vùng alignment có vị trí cố định và khác vùng finder. Tuy nhiên khi đặt alignment cần chú ý nó không được trùng với các vị trí cấu trúc khác. Như ví dụ dưới đây vùng alignment của phiên bản 2 có thể đặt tại tọa độ là sự kết hợp của 2 số 6 và 18. Nhu vậy ta có 4 vị trí (6,6), (6,18), (18, 6), (18, 18) tuy nhiên chỉ có vị trí (18, 18) là có thể đặt vì ba vùng kia trùng với ví trị của vùng finder.</p><p><a href="/assets/img/blog/5_alignment-exclusion.png" class="popup img-link "><img data-src="/assets/img/blog/5_alignment-exclusion.png" alt="alignment-exclusion" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/6_alignment-correct.png" class="popup img-link "><img data-src="/assets/img/blog/6_alignment-correct.png" alt="alignment-correct" class="lazyload" data-proofer-ignore></a></p><p>Một ví dụ khác về phiên bản 8:</p><p><a href="/assets/img/blog/7_alignment-example.png" class="popup img-link "><img data-src="/assets/img/blog/7_alignment-example.png" alt="alignment-example" class="lazyload" data-proofer-ignore></a></p><p>Bảng các số kết hợp của vùng alignment</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
</pre><td class="rouge-code"><pre>+-----------+------------------------------------+
| Phiên bản |      Chỉ số hàng để tạo ra cột     |
+-----------+---+----+----+----+-----+-----+-----+
| 2         | 6 | 18 |    |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 3         | 6 | 22 |    |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 4         | 6 | 26 |    |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 5         | 6 | 30 |    |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 6         | 6 | 34 |    |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 7         | 6 | 22 | 38 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 8         | 6 | 24 | 42 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 9         | 6 | 26 | 46 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 10        | 6 | 28 | 50 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 11        | 6 | 30 | 54 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 12        | 6 | 32 | 58 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 13        | 6 | 34 | 62 |    |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 14        | 6 | 26 | 46 | 66 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 15        | 6 | 26 | 48 | 70 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 16        | 6 | 26 | 50 | 74 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 17        | 6 | 30 | 54 | 78 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 18        | 6 | 30 | 56 | 82 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 19        | 6 | 30 | 58 | 86 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 20        | 6 | 34 | 62 | 90 |     |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 21        | 6 | 28 | 50 | 72 | 94  |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 22        | 6 | 26 | 50 | 74 | 98  |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 23        | 6 | 30 | 54 | 78 | 102 |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 24        | 6 | 28 | 54 | 80 | 106 |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 25        | 6 | 32 | 58 | 84 | 110 |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 26        | 6 | 30 | 58 | 86 | 114 |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 27        | 6 | 34 | 62 | 90 | 118 |     |     |
+-----------+---+----+----+----+-----+-----+-----+
| 28        | 6 | 26 | 50 | 74 | 98  | 122 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 29        | 6 | 30 | 54 | 78 | 102 | 126 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 30        | 6 | 26 | 52 | 78 | 104 | 130 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 31        | 6 | 30 | 56 | 82 | 108 | 134 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 32        | 6 | 34 | 60 | 86 | 112 | 138 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 33        | 6 | 30 | 58 | 86 | 114 | 142 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 34        | 6 | 34 | 62 | 90 | 118 | 146 |     |
+-----------+---+----+----+----+-----+-----+-----+
| 35        | 6 | 30 | 54 | 78 | 102 | 126 | 150 |
+-----------+---+----+----+----+-----+-----+-----+
| 36        | 6 | 24 | 50 | 76 | 102 | 128 | 154 |
+-----------+---+----+----+----+-----+-----+-----+
| 37        | 6 | 28 | 54 | 80 | 106 | 132 | 158 |
+-----------+---+----+----+----+-----+-----+-----+
| 38        | 6 | 32 | 58 | 84 | 110 | 136 | 162 |
+-----------+---+----+----+----+-----+-----+-----+
| 39        | 6 | 26 | 54 | 82 | 110 | 138 | 166 |
+-----------+---+----+----+----+-----+-----+-----+
| 40        | 6 | 30 | 58 | 86 | 114 | 142 | 170 |
+-----------+---+----+----+----+-----+-----+-----+
</pre></table></code></div></div><h2 id="vùng-timming"><span class="mr-2">Vùng timming</span><a href="#vùng-timming" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Là 2 đường nối 3 vùng finder gồm một ngang và một dọc xen kẽ trắng đen và cách phân biệt là dóng thẳng và ngang của 3 ô finder, để dễ hình dung các bạn xem hình minh họa:</p><p><a href="/assets/img/blog/8_timing-s.png" class="popup img-link "><img data-src="/assets/img/blog/8_timing-s.png" alt="timing-s" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/9_timing-l.png" class="popup img-link "><img data-src="/assets/img/blog/9_timing-l.png" alt="timing-l" class="lazyload" data-proofer-ignore></a></p><h2 id="module-tối"><span class="mr-2">Module tối</span><a href="#module-tối" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Module tối là module đen luôn đặt bên cạnh vùng tiếm kiếm dưới trái. Ví trí của module tối được xác định (8,y) trong đó y được tính bằng công thức:</p><blockquote><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>**(4 * V) + 9** với V là phiên bản của mã QR.
</pre></table></code></div></div></blockquote><h2 id="vùng-format-information"><span class="mr-2">Vùng format information</span><a href="#vùng-format-information" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Đây là vùng cực kỳ quan trọng của mã QR nó chứa thông tin của mask và cấp độ sửa lỗi của mã QR. Trước khi đi vào vùng này mình muốn giải thích rõ hơn về mask và cấp độ sữa lỗi.</p><h2 id="cấp-độ-sửa-lỗi"><span class="mr-2">Cấp độ sửa lỗi</span><a href="#cấp-độ-sửa-lỗi" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Trong mỗi mã QR đều sẽ tồn tại 1 cấp độ sửa lỗi. Có 4 cấp độ sửa lỗi trong mã QR là: L (low - thấp) có thể phục hồi nếu mức độ hỏng dưới 7% M (medium - trung bình) có thể phục hồi nếu mức độ hỏng dưới 15% Q (quartile - vừa ) có thể phục hồi nếu mức độ hỏng dưới 25% H (high - cao) có thể phục hồi nếu mức độ hỏng dưới 30%</p><p>Các cấp độ này cũng được lưu dưới dạng nhị phân với:</p><ul><li><p>L - 01</p><li><p>M - 00</p><li><p>Q - 11</p><li><p>H - 10</p></ul><p>Sau đó được biến đổi cùng mask và lưu vào vị trí format information. Các cấp độ sửa lỗi này sử dụng kỹ thuật sửa lỗi Reed-Solomon, trong bài viết này mình chỉ xin nói về cấu trúc và thành phần của mã QR còn các thuật toán xin hẹn các bạn trong một bài viết khác (nếu mình có hứng thú tìm hiểu vì cá nhân mình không thích toán lắm 😅). Tuy nhiên có một lưu ý đó là mức độ sửa lỗi càng cao, dữ liệu lưu trữ càng ít vì mã QR phải dùng vùng Error Correction lớn hơn để dự trữ. Để biết được mã QR bạn đang dùng cấp đô lưu trữ nào mời các bạn theo dõi hình minh họa:</p><p><a href="/assets/img/blog/10_576px-QR_Format_Information.png" class="popup img-link "><img data-src="/assets/img/blog/10_576px-QR_Format_Information.png" alt="10_576px-QR_Format_Information" class="lazyload" data-proofer-ignore></a> <a href="/assets/img/blog/11_format-layout.png" class="popup img-link "><img data-src="/assets/img/blog/11_format-layout.png" alt="11_format-layout" class="lazyload" data-proofer-ignore></a></p><p>Dựa vào hình trên ta có thể thấy được 2 vị trí được viền đỏ đại diện cho 2 bit cấp độ sửa lỗi và trong hình đó là loại L với mã nhị phân 11.</p><p>Còn về mask, đây là một chức năng đổi trắng thành đen và ngược lại, chức năng này nhằm giúp các máy đọc mã QR đọc dễ dàng hơn. Có 8 loại mask và việc dùng loại mask nào cũng như thuật toán mình xin hẹn dịp khác lý do như trên ↑. Còn về cách giải mã mình sẽ đề cập ở dưới.</p><p><a href="/assets/img/blog/12_ss_mask.png" class="popup img-link "><img data-src="/assets/img/blog/12_ss_mask.png" alt="12_ss_mask" class="lazyload" data-proofer-ignore></a></p><p>Trong hình minh họa trên dễ thấy rằng mặt dù 2 mã QR cùng một version, cùng một cấp sửa lỗi, và cùng một nội dung chỉ khác mask nhưng chúng ta đã có 2 mã QR khác nhau.</p><h2 id="vùng-version"><span class="mr-2">Vùng version</span><a href="#vùng-version" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Từ phiên bản 7 trở đi sẽ có 18 bit quy định phiên bản của mã QR với hình chữ nhật có kích thước 6x3.</p><p><a href="/assets/img/blog/13_version-location-1.png" class="popup img-link "><img data-src="/assets/img/blog/13_version-location-1.png" alt="13_version-location-1" class="lazyload" data-proofer-ignore></a></p><h2 id="encode-và-decode-trong-mã-qr"><span class="mr-2">Encode và decode trong mã QR</span><a href="#encode-và-decode-trong-mã-qr" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Trong phần này mình sẽ chỉ nói về việc đặt các bit như thế nào còn việc encode của từng kiểu dữ liệu cũng như thuật toán encode mình xin không viết tại đây lý do thì như trên :D Việc đặt các bit trắng đen trong mã QR sẽ được đặt bắt đầu từ góc dưới phải hướng lên cho đến khi gặp các bit cấu trúc thì rẽ trái hướng xuống cho đến cạnh dưới sẽ rẽ trái và hướng lên cứ tiếp tục như vậy cho đến hết :</p><p><a href="/assets/img/blog/14_data-bit-progression.png" class="popup img-link "><img data-src="/assets/img/blog/14_data-bit-progression.png" alt="data-bit-progression" class="lazyload" data-proofer-ignore></a></p><p>Theo chiều hướng lên các bit sẽ đươc đặt như sau:</p><p><a href="/assets/img/blog/15_upward.png" class="popup img-link "><img data-src="/assets/img/blog/15_upward.png" alt="upward" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/16_qr-code-first-pixel.png" class="popup img-link "><img data-src="/assets/img/blog/16_qr-code-first-pixel.png" alt="qr-code-first-pixel" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/17qr-code-second-pixel.png" class="popup img-link "><img data-src="/assets/img/blog/17qr-code-second-pixel.png" alt="qr-code-second-pixel" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/18_qr-code-third-pixel.png" class="popup img-link "><img data-src="/assets/img/blog/18_qr-code-third-pixel.png" alt="qr-code-third-pixel" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/19_qr-code-fourth-pixel.png" class="popup img-link "><img data-src="/assets/img/blog/19_qr-code-fourth-pixel.png" alt="qr-code-fourth-pixel" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/20_qr-code-fifth-pixel.png" class="popup img-link "><img data-src="/assets/img/blog/20_qr-code-fifth-pixel.png" alt="qr-code-fifth-pixel" class="lazyload" data-proofer-ignore></a></p><p>Chiều hướng xuống:</p><p><a href="/assets/img/blog/21_downward.png" class="popup img-link "><img data-src="/assets/img/blog/21_downward.png" alt="downward" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/22_qr-code-down-1.png" class="popup img-link "><img data-src="/assets/img/blog/22_qr-code-down-1.png" alt="qr-code-down-1" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/23_qr-code-down-2.png" class="popup img-link "><img data-src="/assets/img/blog/23_qr-code-down-2.png" alt="qr-code-down-2" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/24_qr-code-down-3.png" class="popup img-link "><img data-src="/assets/img/blog/24_qr-code-down-3.png" alt="qr-code-down-3" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/25_qr-code-down-4.png" class="popup img-link "><img data-src="/assets/img/blog/25_qr-code-down-4.png" alt="qr-code-down-4" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/26_qr-code-down-5.png" class="popup img-link "><img data-src="/assets/img/blog/26_qr-code-down-5.png" alt="qr-code-down-5" class="lazyload" data-proofer-ignore></a></p><p>Khi gặp alignment:</p><p>Các bit sẽ bỏ qua alignment và ghi lên ô phía trên nó.</p><p><a href="/assets/img/blog/27_alignment-modules1.png" class="popup img-link "><img data-src="/assets/img/blog/27_alignment-modules1.png" alt="alignment-modules1" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/28_alignment-modules2.png" class="popup img-link "><img data-src="/assets/img/blog/28_alignment-modules2.png" alt="alignment-modules2" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/29_alignment-modules3.png" class="popup img-link "><img data-src="/assets/img/blog/29_alignment-modules3.png" alt="alignment-modules3" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/30_alignment-modules4.png" class="popup img-link "><img data-src="/assets/img/blog/30_alignment-modules4.png" alt="alignment-modules4" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/31_alignment-modules5.png" class="popup img-link "><img data-src="/assets/img/blog/31_alignment-modules5.png" alt="alignment-modules5" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/32_alignment-modules6.png" class="popup img-link "><img data-src="/assets/img/blog/32_alignment-modules6.png" alt="alignment-modules6" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/33_alignment-modules7.png" class="popup img-link "><img data-src="/assets/img/blog/33_alignment-modules7.png" alt="alignment-modules7" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/34_alignment-modules8.png" class="popup img-link "><img data-src="/assets/img/blog/34_alignment-modules8.png" alt="alignment-modules8" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/35_alignment-modules10.png" class="popup img-link "><img data-src="/assets/img/blog/35_alignment-modules10.png" alt="alignment-modules10" class="lazyload" data-proofer-ignore></a></p><p>Khi gặp vùng timing: Bắt đầu tiếp ở cột bên trái vùng timming</p><p><a href="/assets/img/blog/36_timing-modules1.png" class="popup img-link "><img data-src="/assets/img/blog/36_timing-modules1.png" alt="timing-modules1" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/37_timing-modules2.png" class="popup img-link "><img data-src="/assets/img/blog/37_timing-modules2.png" alt="timing-modules2" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/38_timing-modules3.png" class="popup img-link "><img data-src="/assets/img/blog/38_timing-modules3.png" alt="timing-modules3" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/39_timing-modules4.png" class="popup img-link "><img data-src="/assets/img/blog/39_timing-modules4.png" alt="timing-modules4" class="lazyload" data-proofer-ignore></a></p><p>Cách decode mã QR:</p><p><a href="/assets/img/blog/40_280px-QR_Character_Placement.png" class="popup img-link "><img data-src="/assets/img/blog/40_280px-QR_Character_Placement.png" alt="280px-QR_Character_Placement" class="lazyload" data-proofer-ignore></a></p><p>Như đã đề cập ở trên, cách chúng ta decode cũng sẽ giống với cách mà mã QR encode. Tuy nhiên cần chú ý: Ô Enc biểu thị cách encode trong mã QR, có các kiểu enc:</p><ul><li>Numeric (0001) (10 bit cho 3 số)<li>Alphanumeric (0010) (11 bit cho 2 ký tự)<li>Byte (0100) (8 bit cho 1 ký tự)<li>Kanji (1000) (13 bit cho 1 ký tư)<li>Structured append (0011)</ul><p><a href="/assets/img/blog/41_280px-QR_Ver3_Codeword_Ordering.png" class="popup img-link "><img data-src="/assets/img/blog/41_280px-QR_Ver3_Codeword_Ordering.png" alt="280px-QR_Ver3_Codeword_Ordering" class="lazyload" data-proofer-ignore></a></p><ul><li>ECI (0111)<li>FNC1 (0101)<li>FNC1 (1001)<li>Kết thúc (0000)</ul><p>Hiện nay kiểu encode thông dụng nhất mà chúng ta hay thấy khi đặt vé, link web,… sử dụng kiểu byte encode vì nó dùng 8 bit và được biểu thị theo bảng mã ascii.</p><ul><li>Có một điểm lưu ý là alphanumeric (chữ hoa và số) chỉ có thể encode chữ hoa và số cùng với một vài kí tự đặt biệt nên rất hạn chế, đó là lý do vì sao kiểu byte vô cùng phổ biến. Ô Len biểu thị cho ta biết chiều dài của dữ liệu trong mã QR. Tùy vào phiên bản mà ta có số bit lưu trữ tương ứng:</ul><div class="table-wrapper"><table><thead><tr><th>Encoding<th>Ver. 1–9<th>Ver. 10–26<th>Ver. 27–40<tbody><tr><td>Numeric<td>10<td>12<td>14<tr><td>Alphanumeric<td>9<td>11<td>13<tr><td>Byte<td>8<td>16<td>16<tr><td>Kanji<td>8<td>10<td>12</table></div><p>Đầu tiên để decode chúng ta cần phải có một mã QR, và xác định phiên bản của mã QR đó.</p><p><a href="/assets/img/blog/42_blue.png" class="popup img-link "><img data-src="/assets/img/blog/42_blue.png" alt="blue" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/43_1.PNG" class="popup img-link "><img data-src="/assets/img/blog/43_1.PNG" alt="img_1" class="lazyload" data-proofer-ignore></a></p><p>Ta có 21x21 =&gt; đây là phiên bản 1.</p><p>Tiếp theo xác định các thành phần của mã QR gồm finder, timing, dark module, format infomation (mask, cấp sửa lỗi).</p><p><a href="/assets/img/blog/44_2.PNG" class="popup img-link "><img data-src="/assets/img/blog/44_2.PNG" alt="img_2" class="lazyload" data-proofer-ignore></a></p><p>Trong phần màu nâu tiến hành so sánh 3 ô tại vị trí (8,2), (8,3), (8, 4) ta biết được hình QR trên sử dụng mask 100 là kiểu mask nằm ngang</p><p>Sau khi xác định được loại mask sử dụng, chúng ta vẽ mask tương ứng:</p><p><a href="/assets/img/blog/45_QRCode_11.jpg" class="popup img-link "><img data-src="/assets/img/blog/45_QRCode_11.jpg" alt="QRCode" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/46_3.PNG" class="popup img-link "><img data-src="/assets/img/blog/46_3.PNG" alt="img_3" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/47_4.PNG" class="popup img-link "><img data-src="/assets/img/blog/47_4.PNG" alt="img_4" class="lazyload" data-proofer-ignore></a></p><p><em>Chú ý trong quá trình vẽ mask các bạn để ý đến vùng timming</em></p><p>Tiếp theo chồng hình QR lên trên mask</p><p><a href="/assets/img/blog/48_5.PNG" class="popup img-link "><img data-src="/assets/img/blog/48_5.PNG" alt="img_5" class="lazyload" data-proofer-ignore></a></p><p>Chúng ta biến đổi theo công thức:</p><ul><li>Trắng giữ nguyên.<li>Đen không chồng mask vẫn là đen.<li>Đen chồng mask ra trắng.<li>Mask thành đen.</ul><p>Sau khi đã sửa, xác định loại enc và len của mã QR</p><p><a href="/assets/img/blog/49_6.PNG" class="popup img-link "><img data-src="/assets/img/blog/49_6.PNG" alt="img_6" class="lazyload" data-proofer-ignore></a></p><p>Trong hình trên, mình xác định enc bằng mã bit 0100 là kiểu byte và đây là phiên bản 1 + enc là byte nên len bit sẽ là 8. Như hình thì sau khi đổi chúng ta có chiều dài của dữ liệu sẽ là 4 ký tự. Chắc các bạn thắc mắc tại sao 0-7 lại từ trên xuống dưới thì khi ta vì khi encode 00100000 sẽ viết dãy số từ trái qua phải, từ dưới lên trên trong QR nên ta sẽ decode theo kiểu MSB theo 2 hình hướng dẫn ở bên trên. Về đường việc dữ liệu đi theo đường zigzag ảnh ở trên đã chỉ rõ nhưng mình thêm ảnh này để các bạn dễ hình dung hơn trong việc đặt giá trị:</p><p><a href="/assets/img/blog/50_7.PNG" class="popup img-link "><img data-src="/assets/img/blog/50_7.PNG" alt="img_7" class="lazyload" data-proofer-ignore></a></p><p>Tiến hành đọc dữ liệu:</p><p><a href="/assets/img/blog/51_8.PNG" class="popup img-link "><img data-src="/assets/img/blog/51_8.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p>Công các số có trong bit đen và so sánh với bảng mã ascii trong hệ 10 ta có chữ b. Tương tự ta có các chữ khác trong ảnh QR trên:</p><p><a href="/assets/img/blog/52_9.PNG" class="popup img-link "><img data-src="/assets/img/blog/52_9.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/53_10.PNG" class="popup img-link "><img data-src="/assets/img/blog/53_10.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/54_11.PNG" class="popup img-link "><img data-src="/assets/img/blog/54_11.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/55_12.PNG" class="popup img-link "><img data-src="/assets/img/blog/55_12.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/img/blog/56_13.PNG" class="popup img-link "><img data-src="/assets/img/blog/56_13.PNG" alt="img_8" class="lazyload" data-proofer-ignore></a></p><p>Vậy ảnh QR chứa chữ blue hoàn toàn khớp so với dữ liệu ảnh ban đầu của chúng ta.</p><p><strong>Peace!</strong></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/research/'>Research</a>, <a href='/categories/forensics/'>Forensics</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/qrcode/" class="post-tag no-text-decoration" >qrcode</a> <a href="/tags/forensics/" class="post-tag no-text-decoration" >forensics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=QR%20Code%20-%20WhiteBearVN&url=https%3A%2F%2Fblog.whitebear.vn%2Fposts%2Ftim-hieu-ma-qr%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=QR%20Code%20-%20WhiteBearVN&u=https%3A%2F%2Fblog.whitebear.vn%2Fposts%2Ftim-hieu-ma-qr%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=QR%20Code%20-%20WhiteBearVN&url=https%3A%2F%2Fblog.whitebear.vn%2Fposts%2Ftim-hieu-ma-qr%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/setup-a-website-with-apache-webserver-and-nginx-waf-reverse-proxy/">Set up website with apache webserver and nginx waf reverse proxy</a><li><a href="/posts/Writeup-VNPT-Secathon-2018/">[Writeup] VPNT Secathon 2018 - Misc</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/writeup/">writeup</a> <a class="post-tag" href="/tags/forensics/">forensics</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/research/">research</a> <a class="post-tag" href="/tags/cryptography/">cryptography</a> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/apache/">apache</a> <a class="post-tag" href="/tags/asis/">ASIS</a> <a class="post-tag" href="/tags/bsides/">BSides</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Writeup-BSides-Noida-CTF-2021-Deathnote/"><div class="card-body"> <em class="small" data-ts="1628355600" data-df="ll" > Aug 8, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Writeup] BSides Noida CTF 2021 - Deathnote</h3><div class="text-muted small"><p> Bài này cho chúng ta 1 vuln box trên tryhackme và nhiệm vụ là phải cat được flag trong root folder. Đầu tiên, mình dùng nmap để xem các port đang mở trên box này. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ...</p></div></div></a></div><div class="card"> <a href="/posts/Writeup-VNPT-Secathon-2018/"><div class="card-body"> <em class="small" data-ts="1521478800" data-df="ll" > Mar 20, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Writeup] VPNT Secathon 2018 - Misc</h3><div class="text-muted small"><p> Chayngaydi Trong bài này ban tổ chức cho chúng ta đoạn teaser trailer Chạy ngay đi của Sếp. Ngay khi nhìn vào dung lượng của tập tin mp4, thì mình biết chắc chắn rằng nó đang giấu một file gì đ...</p></div></div></a></div><div class="card"> <a href="/posts/Mates-SS2-Round-4-Forensics-caigidzay/"><div class="card-body"> <em class="small" data-ts="1525107600" data-df="ll" > May 1, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Writeup] Mates SS2 Round 4 - Forensics caigidzay</h3><div class="text-muted small"><p> Trong thử thách này để bài là một file dump, mbr/dos nên mình sẽ dùng auto spy để mở nó xem sao. Đập vào mắt mình là flag.jpg. Mình tốn kha khá thời gian với bức ảnh này vì lúc đầu tưởng đây là ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Mates-SS2-Round-4-Forensics-caigidzay/" class="btn btn-outline-primary" prompt="Older"><p>[Writeup] Mates SS2 Round 4 - Forensics caigidzay</p></a> <a href="/posts/Writeup-Mates-SS3-Round-2/" class="btn btn-outline-primary" prompt="Newer"><p>[Writeup] Mates SS3 Round 2</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/writeup/">writeup</a> <a class="post-tag" href="/tags/forensics/">forensics</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/research/">research</a> <a class="post-tag" href="/tags/cryptography/">cryptography</a> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/apache/">apache</a> <a class="post-tag" href="/tags/asis/">ASIS</a> <a class="post-tag" href="/tags/bsides/">BSides</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/WhiteBearVN_">WhiteBearVN</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@9.2.2/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { /* start/end delimiter pairs for in-line math */ inlineMath: [ ['$', '$'], ['\\(', '\\)'] ], /* start/end delimiter pairs for display math */ displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
